@extends('auth.dashboard-layout')
@php
    use App\Helpers\AppHelper;

@endphp
@section('style')
    <link rel="stylesheet" href="{{ mix('css/dashboard.css') }}">

    @if(App::getLocale() == 'ar')
        <style>
            @media screen and (min-width: 1024px) {
                form {

                    transform: translateZ(20px) translateX(70px) !important;
                    border-radius: 10px;
                    height: 750px;
                }

            }
        </style>
    @else
        <style>
            @media screen and (min-width: 1024px) {
                form {

                    transform: translateZ(20px) translateX(-70px);
                    border-radius: 10px;
                    height: 750px;
                }

            }
        </style>
    @endif
@endsection


@section('content')

    <main>
        <section id="add-address-page" class="h-100 d-flex align-items-center">
            <div class="container-fluid h-100">
                <div class="row h-100  flex-column flex-lg-row">
                    <div class="col-12 col-lg-8  ">
                        <div id="map" class="position-relative w-100 h-100"></div>
                    </div>
                    <div class="col-12 mb-3 mb-lg-0 col-lg-4 d-flex align-items-center justify-content-center ">
                        <form class="row p-3 p-md-5 bg-white rounder-2 "
                              action="/{{AppHelper::getSlug()}}/dashboard/addresses/{{$address->id}}" method="POST">
                            @csrf
                            <div class="col-12">
                                <h1>{{__('Edit Address')}}</h1>
                                <h5 class="text-secondary">{{__('Please enter your information')}}</h5>
                            </div>
                            <div class="mb-3 col-12">
                                <label for="InputProvince" class="form-label d-flex align-items-center">
                              <span class="d-block mx-1">
                                  <svg width="24" height="25" viewBox="0 0 24 25" fill="none"
                                       xmlns="http://www.w3.org/2000/svg">
                                        <path
                                            d="M11.6239 20.7677C11.6233 20.7684 11.623 20.7688 11.6231 20.7687L11.6239 20.7677Z"
                                            stroke="#8696BB"/>
                                        <mask id="path-2-inside-1_3018_70925" fill="white">
                                        <path
                                            d="M11.3499 5.83916C10.0575 6.0724 8.99069 6.93272 8.47068 8.15247C7.9889 9.28809 8.11508 10.6493 8.79186 11.6855C9.33864 12.5152 10.1072 13.062 11.1205 13.3411C11.4722 13.4367 12.5276 13.4367 12.8793 13.3411C13.8926 13.062 14.6612 12.5152 15.2079 11.6855C15.7432 10.8711 15.9421 9.8234 15.7471 8.87896C15.4679 7.51774 14.5044 6.42418 13.1967 5.97681C12.6423 5.78945 11.9234 5.73592 11.3499 5.83916ZM12.3708 6.66507C13.0132 6.75301 13.5638 7.01302 14.0264 7.44891C14.9862 8.35512 15.2423 9.72016 14.6764 10.894C14.3017 11.6664 13.6135 12.2399 12.7761 12.4808C12.3517 12.6032 11.6481 12.6032 11.2237 12.4808C9.74395 12.0564 8.81098 10.6034 9.07099 9.12367C9.29276 7.8504 10.3137 6.8486 11.5793 6.66889C11.9272 6.61918 12.0305 6.61918 12.3708 6.66507Z"/>
                                        </mask>
                                        <path
                                            d="M11.3499 5.83916L11.1723 4.85506L11.1727 4.85498L11.3499 5.83916ZM8.47068 8.15247L7.55009 7.76191L7.55079 7.76029L8.47068 8.15247ZM8.79186 11.6855L7.95686 12.2358L7.95462 12.2323L8.79186 11.6855ZM11.1205 13.3411L10.8582 14.3062L10.8549 14.3052L11.1205 13.3411ZM12.8793 13.3411L13.1449 14.3052L13.1416 14.3062L12.8793 13.3411ZM15.2079 11.6855L16.0436 12.2348L16.0429 12.2358L15.2079 11.6855ZM15.7471 8.87896L14.7677 9.08117L14.7675 9.07983L15.7471 8.87896ZM13.1967 5.97681L13.5168 5.02944L13.5204 5.03065L13.1967 5.97681ZM12.3708 6.66507L12.5044 5.67403L12.5064 5.67431L12.3708 6.66507ZM14.0264 7.44892L14.7122 6.72107L14.713 6.72182L14.0264 7.44892ZM14.6764 10.894L15.5772 11.3283L15.5762 11.3305L14.6764 10.894ZM12.7761 12.4808L12.4991 11.52L12.4996 11.5198L12.7761 12.4808ZM11.2237 12.4808L11.4994 11.5196L11.5007 11.52L11.2237 12.4808ZM9.07099 9.12367L10.0562 9.29526L10.0559 9.29673L9.07099 9.12367ZM11.5793 6.66889L11.7207 7.65884L11.7199 7.65896L11.5793 6.66889ZM11.5275 6.82326C10.5726 6.9956 9.78104 7.62875 9.39057 8.54464L7.55079 7.76029C8.20034 6.23669 9.54242 5.14921 11.1723 4.85506L11.5275 6.82326ZM9.39126 8.54302C9.04111 9.36837 9.13252 10.3784 9.6291 11.1387L7.95462 12.2323C7.09763 10.9202 6.93669 9.2078 7.55009 7.76192L9.39126 8.54302ZM9.62686 11.1353C10.0323 11.7505 10.5921 12.1583 11.386 12.3771L10.8549 14.3052C9.6223 13.9657 8.645 13.28 7.95686 12.2358L9.62686 11.1353ZM11.3827 12.3761C11.3771 12.3746 11.4328 12.3871 11.5716 12.3979C11.6951 12.4075 11.8447 12.4128 11.9999 12.4128C12.1551 12.4128 12.3047 12.4075 12.4282 12.3979C12.567 12.3871 12.6227 12.3746 12.6171 12.3761L13.1416 14.3062C12.8234 14.3926 12.3507 14.4128 11.9999 14.4128C11.6491 14.4128 11.1764 14.3926 10.8582 14.3062L11.3827 12.3761ZM12.6138 12.3771C13.4077 12.1583 13.9675 11.7505 14.3729 11.1353L16.0429 12.2358C15.3548 13.28 14.3775 13.9657 13.1449 14.3052L12.6138 12.3771ZM14.3723 11.1363C14.7622 10.5431 14.9091 9.76562 14.7677 9.08117L16.7264 8.67674C16.9751 9.88117 16.7243 11.1991 16.0436 12.2348L14.3723 11.1363ZM14.7675 9.07983C14.5594 8.06513 13.8449 7.25547 12.873 6.92298L13.5204 5.03065C15.1639 5.59289 16.3765 6.97035 16.7267 8.67808L14.7675 9.07983ZM12.8766 6.92418C12.4815 6.79068 11.9337 6.75014 11.527 6.82334L11.1727 4.85498C11.9131 4.7217 12.803 4.78823 13.5168 5.02944L12.8766 6.92418ZM12.5064 5.67431C13.3496 5.78974 14.094 6.13868 14.7122 6.72107L13.3407 8.17676C13.0335 7.88736 12.6767 7.71628 12.2352 7.65583L12.5064 5.67431ZM14.713 6.72182C15.9849 7.92284 16.335 9.75635 15.5772 11.3283L13.7757 10.4598C14.1497 9.68397 13.9874 8.7874 13.3399 8.17601L14.713 6.72182ZM15.5762 11.3305C15.0749 12.3637 14.1569 13.1242 13.0526 13.4419L12.4996 11.5198C13.0701 11.3557 13.5285 10.9691 13.7767 10.4575L15.5762 11.3305ZM13.0531 13.4417C12.7211 13.5374 12.3386 13.5726 11.9999 13.5726C11.6612 13.5726 11.2787 13.5374 10.9467 13.4417L11.5007 11.52C11.5932 11.5466 11.7746 11.5726 11.9999 11.5726C12.2252 11.5726 12.4066 11.5466 12.4991 11.52L13.0531 13.4417ZM10.948 13.4421C8.99664 12.8824 7.73396 10.9546 8.08608 8.95061L10.0559 9.29673C9.888 10.2523 10.4913 11.2304 11.4994 11.5196L10.948 13.4421ZM8.08582 8.95208C8.38047 7.2604 9.73531 5.9207 11.4387 5.67882L11.7199 7.65896C10.892 7.77651 10.2051 8.4404 10.0562 9.29526L8.08582 8.95208ZM11.4379 5.67894C11.6187 5.65311 11.7888 5.63193 11.9736 5.63114C12.159 5.63035 12.3277 5.65021 12.5044 5.67404L12.2372 7.6561C12.0736 7.63405 12.0205 7.63096 11.9822 7.63112C11.9434 7.63129 11.8879 7.63496 11.7207 7.65884L11.4379 5.67894Z"
                                            fill="#8696BB" mask="url(#path-2-inside-1_3018_70925)"/>
                                        </svg>

                                   </span>
                                    <span class="d-block ">{{__('Location Province')}}</span>
                                </label>
                                <input type="hidden" name="lat" value="{{$address->location->getLat()}}">
                                <input type="hidden" name="lng" value="{{$address->location->getLng()}}">

                                <input type="text"
                                       class="form-control"
                                       id="InputProvince"
                                       aria-describedby="emailHelp"
                                       name="province"
                                       value="{{$address['location_province']}}"

                                >
                            </div>


                            <div class="mb-3 col-12">
                                <label for="ProvinceId" class="form-label d-flex align-items-center">
                              <span class="d-block mx-1">
                                  <svg width="24" height="25" viewBox="0 0 24 25" fill="none"
                                       xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M11.6239 20.7677C11.6233 20.7684 11.623 20.7688 11.6231 20.7687L11.6239 20.7677Z"
                                        stroke="#8696BB"/>
                                    <mask id="path-2-inside-1_3018_70925" fill="white">
                                    <path
                                        d="M11.3499 5.83916C10.0575 6.0724 8.99069 6.93272 8.47068 8.15247C7.9889 9.28809 8.11508 10.6493 8.79186 11.6855C9.33864 12.5152 10.1072 13.062 11.1205 13.3411C11.4722 13.4367 12.5276 13.4367 12.8793 13.3411C13.8926 13.062 14.6612 12.5152 15.2079 11.6855C15.7432 10.8711 15.9421 9.8234 15.7471 8.87896C15.4679 7.51774 14.5044 6.42418 13.1967 5.97681C12.6423 5.78945 11.9234 5.73592 11.3499 5.83916ZM12.3708 6.66507C13.0132 6.75301 13.5638 7.01302 14.0264 7.44891C14.9862 8.35512 15.2423 9.72016 14.6764 10.894C14.3017 11.6664 13.6135 12.2399 12.7761 12.4808C12.3517 12.6032 11.6481 12.6032 11.2237 12.4808C9.74395 12.0564 8.81098 10.6034 9.07099 9.12367C9.29276 7.8504 10.3137 6.8486 11.5793 6.66889C11.9272 6.61918 12.0305 6.61918 12.3708 6.66507Z"/>
                                    </mask>
                                    <path
                                        d="M11.3499 5.83916L11.1723 4.85506L11.1727 4.85498L11.3499 5.83916ZM8.47068 8.15247L7.55009 7.76191L7.55079 7.76029L8.47068 8.15247ZM8.79186 11.6855L7.95686 12.2358L7.95462 12.2323L8.79186 11.6855ZM11.1205 13.3411L10.8582 14.3062L10.8549 14.3052L11.1205 13.3411ZM12.8793 13.3411L13.1449 14.3052L13.1416 14.3062L12.8793 13.3411ZM15.2079 11.6855L16.0436 12.2348L16.0429 12.2358L15.2079 11.6855ZM15.7471 8.87896L14.7677 9.08117L14.7675 9.07983L15.7471 8.87896ZM13.1967 5.97681L13.5168 5.02944L13.5204 5.03065L13.1967 5.97681ZM12.3708 6.66507L12.5044 5.67403L12.5064 5.67431L12.3708 6.66507ZM14.0264 7.44892L14.7122 6.72107L14.713 6.72182L14.0264 7.44892ZM14.6764 10.894L15.5772 11.3283L15.5762 11.3305L14.6764 10.894ZM12.7761 12.4808L12.4991 11.52L12.4996 11.5198L12.7761 12.4808ZM11.2237 12.4808L11.4994 11.5196L11.5007 11.52L11.2237 12.4808ZM9.07099 9.12367L10.0562 9.29526L10.0559 9.29673L9.07099 9.12367ZM11.5793 6.66889L11.7207 7.65884L11.7199 7.65896L11.5793 6.66889ZM11.5275 6.82326C10.5726 6.9956 9.78104 7.62875 9.39057 8.54464L7.55079 7.76029C8.20034 6.23669 9.54242 5.14921 11.1723 4.85506L11.5275 6.82326ZM9.39126 8.54302C9.04111 9.36837 9.13252 10.3784 9.6291 11.1387L7.95462 12.2323C7.09763 10.9202 6.93669 9.2078 7.55009 7.76192L9.39126 8.54302ZM9.62686 11.1353C10.0323 11.7505 10.5921 12.1583 11.386 12.3771L10.8549 14.3052C9.6223 13.9657 8.645 13.28 7.95686 12.2358L9.62686 11.1353ZM11.3827 12.3761C11.3771 12.3746 11.4328 12.3871 11.5716 12.3979C11.6951 12.4075 11.8447 12.4128 11.9999 12.4128C12.1551 12.4128 12.3047 12.4075 12.4282 12.3979C12.567 12.3871 12.6227 12.3746 12.6171 12.3761L13.1416 14.3062C12.8234 14.3926 12.3507 14.4128 11.9999 14.4128C11.6491 14.4128 11.1764 14.3926 10.8582 14.3062L11.3827 12.3761ZM12.6138 12.3771C13.4077 12.1583 13.9675 11.7505 14.3729 11.1353L16.0429 12.2358C15.3548 13.28 14.3775 13.9657 13.1449 14.3052L12.6138 12.3771ZM14.3723 11.1363C14.7622 10.5431 14.9091 9.76562 14.7677 9.08117L16.7264 8.67674C16.9751 9.88117 16.7243 11.1991 16.0436 12.2348L14.3723 11.1363ZM14.7675 9.07983C14.5594 8.06513 13.8449 7.25547 12.873 6.92298L13.5204 5.03065C15.1639 5.59289 16.3765 6.97035 16.7267 8.67808L14.7675 9.07983ZM12.8766 6.92418C12.4815 6.79068 11.9337 6.75014 11.527 6.82334L11.1727 4.85498C11.9131 4.7217 12.803 4.78823 13.5168 5.02944L12.8766 6.92418ZM12.5064 5.67431C13.3496 5.78974 14.094 6.13868 14.7122 6.72107L13.3407 8.17676C13.0335 7.88736 12.6767 7.71628 12.2352 7.65583L12.5064 5.67431ZM14.713 6.72182C15.9849 7.92284 16.335 9.75635 15.5772 11.3283L13.7757 10.4598C14.1497 9.68397 13.9874 8.7874 13.3399 8.17601L14.713 6.72182ZM15.5762 11.3305C15.0749 12.3637 14.1569 13.1242 13.0526 13.4419L12.4996 11.5198C13.0701 11.3557 13.5285 10.9691 13.7767 10.4575L15.5762 11.3305ZM13.0531 13.4417C12.7211 13.5374 12.3386 13.5726 11.9999 13.5726C11.6612 13.5726 11.2787 13.5374 10.9467 13.4417L11.5007 11.52C11.5932 11.5466 11.7746 11.5726 11.9999 11.5726C12.2252 11.5726 12.4066 11.5466 12.4991 11.52L13.0531 13.4417ZM10.948 13.4421C8.99664 12.8824 7.73396 10.9546 8.08608 8.95061L10.0559 9.29673C9.888 10.2523 10.4913 11.2304 11.4994 11.5196L10.948 13.4421ZM8.08582 8.95208C8.38047 7.2604 9.73531 5.9207 11.4387 5.67882L11.7199 7.65896C10.892 7.77651 10.2051 8.4404 10.0562 9.29526L8.08582 8.95208ZM11.4379 5.67894C11.6187 5.65311 11.7888 5.63193 11.9736 5.63114C12.159 5.63035 12.3277 5.65021 12.5044 5.67404L12.2372 7.6561C12.0736 7.63405 12.0205 7.63096 11.9822 7.63112C11.9434 7.63129 11.8879 7.63496 11.7207 7.65884L11.4379 5.67894Z"
                                        fill="#8696BB" mask="url(#path-2-inside-1_3018_70925)"/>
                                    </svg>

                    </span>
                                    <span class="d-block ">{{__('Select Province')}}</span>
                                </label>
                                <select class="form-select" aria-label="Default select example" name="province_id"
                                        required
                                        id="ProvinceId"
                                        onchange=""
                                >
                                    @if(\App\Helpers\AppHelper::getLocationSettings()->language->code == "ar")
                                        <option
                                            value="{{$address_province->id}}"
                                            selected>{{ $address_province->meta['translate']['name_ar'] }}</option>
                                    @else
                                        <option
                                            value="{{$address_province->id}}"
                                            selected>{{ $address_province->meta['translate']['name_en'] }}</option>
                                    @endif
                                    @foreach($provinces as $province)
                                        @if(\App\Helpers\AppHelper::getLocationSettings()->language->code == "ar")
                                            <option
                                                value="{{$province->id}}">{{ $province->meta['translate']['name_ar'] }}</option>
                                        @else
                                            <option
                                                value="{{$province->id}}">{{ $province->meta['translate']['name_en'] }}</option>
                                        @endif

                                    @endforeach
                                </select>
                            </div>


                            <div class="mb-3 col-12">
                                <label for="exampleInputProvince" class="form-label d-flex align-items-center">
                              <span class="d-block mx-1">
                                 <svg width="24" height="25" viewBox="0 0 24 25" fill="none"
                                      xmlns="http://www.w3.org/2000/svg">
                        <path d="M11.6239 20.7677C11.6233 20.7684 11.623 20.7688 11.6231 20.7687L11.6239 20.7677Z"
                              stroke="#8696BB"/>
                        <mask id="path-2-inside-1_3018_70925" fill="white">
                        <path
                            d="M11.3499 5.83916C10.0575 6.0724 8.99069 6.93272 8.47068 8.15247C7.9889 9.28809 8.11508 10.6493 8.79186 11.6855C9.33864 12.5152 10.1072 13.062 11.1205 13.3411C11.4722 13.4367 12.5276 13.4367 12.8793 13.3411C13.8926 13.062 14.6612 12.5152 15.2079 11.6855C15.7432 10.8711 15.9421 9.8234 15.7471 8.87896C15.4679 7.51774 14.5044 6.42418 13.1967 5.97681C12.6423 5.78945 11.9234 5.73592 11.3499 5.83916ZM12.3708 6.66507C13.0132 6.75301 13.5638 7.01302 14.0264 7.44891C14.9862 8.35512 15.2423 9.72016 14.6764 10.894C14.3017 11.6664 13.6135 12.2399 12.7761 12.4808C12.3517 12.6032 11.6481 12.6032 11.2237 12.4808C9.74395 12.0564 8.81098 10.6034 9.07099 9.12367C9.29276 7.8504 10.3137 6.8486 11.5793 6.66889C11.9272 6.61918 12.0305 6.61918 12.3708 6.66507Z"/>
                        </mask>
                        <path
                            d="M11.3499 5.83916L11.1723 4.85506L11.1727 4.85498L11.3499 5.83916ZM8.47068 8.15247L7.55009 7.76191L7.55079 7.76029L8.47068 8.15247ZM8.79186 11.6855L7.95686 12.2358L7.95462 12.2323L8.79186 11.6855ZM11.1205 13.3411L10.8582 14.3062L10.8549 14.3052L11.1205 13.3411ZM12.8793 13.3411L13.1449 14.3052L13.1416 14.3062L12.8793 13.3411ZM15.2079 11.6855L16.0436 12.2348L16.0429 12.2358L15.2079 11.6855ZM15.7471 8.87896L14.7677 9.08117L14.7675 9.07983L15.7471 8.87896ZM13.1967 5.97681L13.5168 5.02944L13.5204 5.03065L13.1967 5.97681ZM12.3708 6.66507L12.5044 5.67403L12.5064 5.67431L12.3708 6.66507ZM14.0264 7.44892L14.7122 6.72107L14.713 6.72182L14.0264 7.44892ZM14.6764 10.894L15.5772 11.3283L15.5762 11.3305L14.6764 10.894ZM12.7761 12.4808L12.4991 11.52L12.4996 11.5198L12.7761 12.4808ZM11.2237 12.4808L11.4994 11.5196L11.5007 11.52L11.2237 12.4808ZM9.07099 9.12367L10.0562 9.29526L10.0559 9.29673L9.07099 9.12367ZM11.5793 6.66889L11.7207 7.65884L11.7199 7.65896L11.5793 6.66889ZM11.5275 6.82326C10.5726 6.9956 9.78104 7.62875 9.39057 8.54464L7.55079 7.76029C8.20034 6.23669 9.54242 5.14921 11.1723 4.85506L11.5275 6.82326ZM9.39126 8.54302C9.04111 9.36837 9.13252 10.3784 9.6291 11.1387L7.95462 12.2323C7.09763 10.9202 6.93669 9.2078 7.55009 7.76192L9.39126 8.54302ZM9.62686 11.1353C10.0323 11.7505 10.5921 12.1583 11.386 12.3771L10.8549 14.3052C9.6223 13.9657 8.645 13.28 7.95686 12.2358L9.62686 11.1353ZM11.3827 12.3761C11.3771 12.3746 11.4328 12.3871 11.5716 12.3979C11.6951 12.4075 11.8447 12.4128 11.9999 12.4128C12.1551 12.4128 12.3047 12.4075 12.4282 12.3979C12.567 12.3871 12.6227 12.3746 12.6171 12.3761L13.1416 14.3062C12.8234 14.3926 12.3507 14.4128 11.9999 14.4128C11.6491 14.4128 11.1764 14.3926 10.8582 14.3062L11.3827 12.3761ZM12.6138 12.3771C13.4077 12.1583 13.9675 11.7505 14.3729 11.1353L16.0429 12.2358C15.3548 13.28 14.3775 13.9657 13.1449 14.3052L12.6138 12.3771ZM14.3723 11.1363C14.7622 10.5431 14.9091 9.76562 14.7677 9.08117L16.7264 8.67674C16.9751 9.88117 16.7243 11.1991 16.0436 12.2348L14.3723 11.1363ZM14.7675 9.07983C14.5594 8.06513 13.8449 7.25547 12.873 6.92298L13.5204 5.03065C15.1639 5.59289 16.3765 6.97035 16.7267 8.67808L14.7675 9.07983ZM12.8766 6.92418C12.4815 6.79068 11.9337 6.75014 11.527 6.82334L11.1727 4.85498C11.9131 4.7217 12.803 4.78823 13.5168 5.02944L12.8766 6.92418ZM12.5064 5.67431C13.3496 5.78974 14.094 6.13868 14.7122 6.72107L13.3407 8.17676C13.0335 7.88736 12.6767 7.71628 12.2352 7.65583L12.5064 5.67431ZM14.713 6.72182C15.9849 7.92284 16.335 9.75635 15.5772 11.3283L13.7757 10.4598C14.1497 9.68397 13.9874 8.7874 13.3399 8.17601L14.713 6.72182ZM15.5762 11.3305C15.0749 12.3637 14.1569 13.1242 13.0526 13.4419L12.4996 11.5198C13.0701 11.3557 13.5285 10.9691 13.7767 10.4575L15.5762 11.3305ZM13.0531 13.4417C12.7211 13.5374 12.3386 13.5726 11.9999 13.5726C11.6612 13.5726 11.2787 13.5374 10.9467 13.4417L11.5007 11.52C11.5932 11.5466 11.7746 11.5726 11.9999 11.5726C12.2252 11.5726 12.4066 11.5466 12.4991 11.52L13.0531 13.4417ZM10.948 13.4421C8.99664 12.8824 7.73396 10.9546 8.08608 8.95061L10.0559 9.29673C9.888 10.2523 10.4913 11.2304 11.4994 11.5196L10.948 13.4421ZM8.08582 8.95208C8.38047 7.2604 9.73531 5.9207 11.4387 5.67882L11.7199 7.65896C10.892 7.77651 10.2051 8.4404 10.0562 9.29526L8.08582 8.95208ZM11.4379 5.67894C11.6187 5.65311 11.7888 5.63193 11.9736 5.63114C12.159 5.63035 12.3277 5.65021 12.5044 5.67404L12.2372 7.6561C12.0736 7.63405 12.0205 7.63096 11.9822 7.63112C11.9434 7.63129 11.8879 7.63496 11.7207 7.65884L11.4379 5.67894Z"
                            fill="#8696BB" mask="url(#path-2-inside-1_3018_70925)"/>
                        </svg>

                    </span>
                                    <span class="d-block ">{{__('Location Title')}}</span>
                                </label>
                                <input type="text" class="form-control" id="exampleInputTitle" name="title"
                                       value="{{$address['location_title']}}"
                                       placeholder="{{__('EX: near by ( mosque, school, pharmacy etc..)')}}">
                            </div>


                            <div class="mb-3 col-12">
                                <label for="InputTitle" class="form-label d-flex align-items-center">
                              <span class="d-block mx-1">
                                 <svg width="24" height="25" viewBox="0 0 24 25" fill="none"
                                      xmlns="http://www.w3.org/2000/svg">
                        <path d="M11.6239 20.7677C11.6233 20.7684 11.623 20.7688 11.6231 20.7687L11.6239 20.7677Z"
                              stroke="#8696BB"/>
                        <mask id="path-2-inside-1_3018_70925" fill="white">
                        <path
                            d="M11.3499 5.83916C10.0575 6.0724 8.99069 6.93272 8.47068 8.15247C7.9889 9.28809 8.11508 10.6493 8.79186 11.6855C9.33864 12.5152 10.1072 13.062 11.1205 13.3411C11.4722 13.4367 12.5276 13.4367 12.8793 13.3411C13.8926 13.062 14.6612 12.5152 15.2079 11.6855C15.7432 10.8711 15.9421 9.8234 15.7471 8.87896C15.4679 7.51774 14.5044 6.42418 13.1967 5.97681C12.6423 5.78945 11.9234 5.73592 11.3499 5.83916ZM12.3708 6.66507C13.0132 6.75301 13.5638 7.01302 14.0264 7.44891C14.9862 8.35512 15.2423 9.72016 14.6764 10.894C14.3017 11.6664 13.6135 12.2399 12.7761 12.4808C12.3517 12.6032 11.6481 12.6032 11.2237 12.4808C9.74395 12.0564 8.81098 10.6034 9.07099 9.12367C9.29276 7.8504 10.3137 6.8486 11.5793 6.66889C11.9272 6.61918 12.0305 6.61918 12.3708 6.66507Z"/>
                        </mask>
                        <path
                            d="M11.3499 5.83916L11.1723 4.85506L11.1727 4.85498L11.3499 5.83916ZM8.47068 8.15247L7.55009 7.76191L7.55079 7.76029L8.47068 8.15247ZM8.79186 11.6855L7.95686 12.2358L7.95462 12.2323L8.79186 11.6855ZM11.1205 13.3411L10.8582 14.3062L10.8549 14.3052L11.1205 13.3411ZM12.8793 13.3411L13.1449 14.3052L13.1416 14.3062L12.8793 13.3411ZM15.2079 11.6855L16.0436 12.2348L16.0429 12.2358L15.2079 11.6855ZM15.7471 8.87896L14.7677 9.08117L14.7675 9.07983L15.7471 8.87896ZM13.1967 5.97681L13.5168 5.02944L13.5204 5.03065L13.1967 5.97681ZM12.3708 6.66507L12.5044 5.67403L12.5064 5.67431L12.3708 6.66507ZM14.0264 7.44892L14.7122 6.72107L14.713 6.72182L14.0264 7.44892ZM14.6764 10.894L15.5772 11.3283L15.5762 11.3305L14.6764 10.894ZM12.7761 12.4808L12.4991 11.52L12.4996 11.5198L12.7761 12.4808ZM11.2237 12.4808L11.4994 11.5196L11.5007 11.52L11.2237 12.4808ZM9.07099 9.12367L10.0562 9.29526L10.0559 9.29673L9.07099 9.12367ZM11.5793 6.66889L11.7207 7.65884L11.7199 7.65896L11.5793 6.66889ZM11.5275 6.82326C10.5726 6.9956 9.78104 7.62875 9.39057 8.54464L7.55079 7.76029C8.20034 6.23669 9.54242 5.14921 11.1723 4.85506L11.5275 6.82326ZM9.39126 8.54302C9.04111 9.36837 9.13252 10.3784 9.6291 11.1387L7.95462 12.2323C7.09763 10.9202 6.93669 9.2078 7.55009 7.76192L9.39126 8.54302ZM9.62686 11.1353C10.0323 11.7505 10.5921 12.1583 11.386 12.3771L10.8549 14.3052C9.6223 13.9657 8.645 13.28 7.95686 12.2358L9.62686 11.1353ZM11.3827 12.3761C11.3771 12.3746 11.4328 12.3871 11.5716 12.3979C11.6951 12.4075 11.8447 12.4128 11.9999 12.4128C12.1551 12.4128 12.3047 12.4075 12.4282 12.3979C12.567 12.3871 12.6227 12.3746 12.6171 12.3761L13.1416 14.3062C12.8234 14.3926 12.3507 14.4128 11.9999 14.4128C11.6491 14.4128 11.1764 14.3926 10.8582 14.3062L11.3827 12.3761ZM12.6138 12.3771C13.4077 12.1583 13.9675 11.7505 14.3729 11.1353L16.0429 12.2358C15.3548 13.28 14.3775 13.9657 13.1449 14.3052L12.6138 12.3771ZM14.3723 11.1363C14.7622 10.5431 14.9091 9.76562 14.7677 9.08117L16.7264 8.67674C16.9751 9.88117 16.7243 11.1991 16.0436 12.2348L14.3723 11.1363ZM14.7675 9.07983C14.5594 8.06513 13.8449 7.25547 12.873 6.92298L13.5204 5.03065C15.1639 5.59289 16.3765 6.97035 16.7267 8.67808L14.7675 9.07983ZM12.8766 6.92418C12.4815 6.79068 11.9337 6.75014 11.527 6.82334L11.1727 4.85498C11.9131 4.7217 12.803 4.78823 13.5168 5.02944L12.8766 6.92418ZM12.5064 5.67431C13.3496 5.78974 14.094 6.13868 14.7122 6.72107L13.3407 8.17676C13.0335 7.88736 12.6767 7.71628 12.2352 7.65583L12.5064 5.67431ZM14.713 6.72182C15.9849 7.92284 16.335 9.75635 15.5772 11.3283L13.7757 10.4598C14.1497 9.68397 13.9874 8.7874 13.3399 8.17601L14.713 6.72182ZM15.5762 11.3305C15.0749 12.3637 14.1569 13.1242 13.0526 13.4419L12.4996 11.5198C13.0701 11.3557 13.5285 10.9691 13.7767 10.4575L15.5762 11.3305ZM13.0531 13.4417C12.7211 13.5374 12.3386 13.5726 11.9999 13.5726C11.6612 13.5726 11.2787 13.5374 10.9467 13.4417L11.5007 11.52C11.5932 11.5466 11.7746 11.5726 11.9999 11.5726C12.2252 11.5726 12.4066 11.5466 12.4991 11.52L13.0531 13.4417ZM10.948 13.4421C8.99664 12.8824 7.73396 10.9546 8.08608 8.95061L10.0559 9.29673C9.888 10.2523 10.4913 11.2304 11.4994 11.5196L10.948 13.4421ZM8.08582 8.95208C8.38047 7.2604 9.73531 5.9207 11.4387 5.67882L11.7199 7.65896C10.892 7.77651 10.2051 8.4404 10.0562 9.29526L8.08582 8.95208ZM11.4379 5.67894C11.6187 5.65311 11.7888 5.63193 11.9736 5.63114C12.159 5.63035 12.3277 5.65021 12.5044 5.67404L12.2372 7.6561C12.0736 7.63405 12.0205 7.63096 11.9822 7.63112C11.9434 7.63129 11.8879 7.63496 11.7207 7.65884L11.4379 5.67894Z"
                            fill="#8696BB" mask="url(#path-2-inside-1_3018_70925)"/>
                        </svg>

                    </span>
                                    <span class="d-block ">{{__('Apartment Number')}}</span>
                                </label>
                                <input type="text" class="form-control is_number" id="InputTitle" name="apartment_number"
                                       value="{{$address['apartment_number']}}">

                            </div>


                            <div class="mb-3 col-12">
                                <label for="InputTitle" class="form-label d-flex align-items-center">
                              <span class="d-block mx-1">
                                 <svg width="24" height="25" viewBox="0 0 24 25" fill="none"
                                      xmlns="http://www.w3.org/2000/svg">
                        <path d="M11.6239 20.7677C11.6233 20.7684 11.623 20.7688 11.6231 20.7687L11.6239 20.7677Z"
                              stroke="#8696BB"/>
                        <mask id="path-2-inside-1_3018_70925" fill="white">
                        <path
                            d="M11.3499 5.83916C10.0575 6.0724 8.99069 6.93272 8.47068 8.15247C7.9889 9.28809 8.11508 10.6493 8.79186 11.6855C9.33864 12.5152 10.1072 13.062 11.1205 13.3411C11.4722 13.4367 12.5276 13.4367 12.8793 13.3411C13.8926 13.062 14.6612 12.5152 15.2079 11.6855C15.7432 10.8711 15.9421 9.8234 15.7471 8.87896C15.4679 7.51774 14.5044 6.42418 13.1967 5.97681C12.6423 5.78945 11.9234 5.73592 11.3499 5.83916ZM12.3708 6.66507C13.0132 6.75301 13.5638 7.01302 14.0264 7.44891C14.9862 8.35512 15.2423 9.72016 14.6764 10.894C14.3017 11.6664 13.6135 12.2399 12.7761 12.4808C12.3517 12.6032 11.6481 12.6032 11.2237 12.4808C9.74395 12.0564 8.81098 10.6034 9.07099 9.12367C9.29276 7.8504 10.3137 6.8486 11.5793 6.66889C11.9272 6.61918 12.0305 6.61918 12.3708 6.66507Z"/>
                        </mask>
                        <path
                            d="M11.3499 5.83916L11.1723 4.85506L11.1727 4.85498L11.3499 5.83916ZM8.47068 8.15247L7.55009 7.76191L7.55079 7.76029L8.47068 8.15247ZM8.79186 11.6855L7.95686 12.2358L7.95462 12.2323L8.79186 11.6855ZM11.1205 13.3411L10.8582 14.3062L10.8549 14.3052L11.1205 13.3411ZM12.8793 13.3411L13.1449 14.3052L13.1416 14.3062L12.8793 13.3411ZM15.2079 11.6855L16.0436 12.2348L16.0429 12.2358L15.2079 11.6855ZM15.7471 8.87896L14.7677 9.08117L14.7675 9.07983L15.7471 8.87896ZM13.1967 5.97681L13.5168 5.02944L13.5204 5.03065L13.1967 5.97681ZM12.3708 6.66507L12.5044 5.67403L12.5064 5.67431L12.3708 6.66507ZM14.0264 7.44892L14.7122 6.72107L14.713 6.72182L14.0264 7.44892ZM14.6764 10.894L15.5772 11.3283L15.5762 11.3305L14.6764 10.894ZM12.7761 12.4808L12.4991 11.52L12.4996 11.5198L12.7761 12.4808ZM11.2237 12.4808L11.4994 11.5196L11.5007 11.52L11.2237 12.4808ZM9.07099 9.12367L10.0562 9.29526L10.0559 9.29673L9.07099 9.12367ZM11.5793 6.66889L11.7207 7.65884L11.7199 7.65896L11.5793 6.66889ZM11.5275 6.82326C10.5726 6.9956 9.78104 7.62875 9.39057 8.54464L7.55079 7.76029C8.20034 6.23669 9.54242 5.14921 11.1723 4.85506L11.5275 6.82326ZM9.39126 8.54302C9.04111 9.36837 9.13252 10.3784 9.6291 11.1387L7.95462 12.2323C7.09763 10.9202 6.93669 9.2078 7.55009 7.76192L9.39126 8.54302ZM9.62686 11.1353C10.0323 11.7505 10.5921 12.1583 11.386 12.3771L10.8549 14.3052C9.6223 13.9657 8.645 13.28 7.95686 12.2358L9.62686 11.1353ZM11.3827 12.3761C11.3771 12.3746 11.4328 12.3871 11.5716 12.3979C11.6951 12.4075 11.8447 12.4128 11.9999 12.4128C12.1551 12.4128 12.3047 12.4075 12.4282 12.3979C12.567 12.3871 12.6227 12.3746 12.6171 12.3761L13.1416 14.3062C12.8234 14.3926 12.3507 14.4128 11.9999 14.4128C11.6491 14.4128 11.1764 14.3926 10.8582 14.3062L11.3827 12.3761ZM12.6138 12.3771C13.4077 12.1583 13.9675 11.7505 14.3729 11.1353L16.0429 12.2358C15.3548 13.28 14.3775 13.9657 13.1449 14.3052L12.6138 12.3771ZM14.3723 11.1363C14.7622 10.5431 14.9091 9.76562 14.7677 9.08117L16.7264 8.67674C16.9751 9.88117 16.7243 11.1991 16.0436 12.2348L14.3723 11.1363ZM14.7675 9.07983C14.5594 8.06513 13.8449 7.25547 12.873 6.92298L13.5204 5.03065C15.1639 5.59289 16.3765 6.97035 16.7267 8.67808L14.7675 9.07983ZM12.8766 6.92418C12.4815 6.79068 11.9337 6.75014 11.527 6.82334L11.1727 4.85498C11.9131 4.7217 12.803 4.78823 13.5168 5.02944L12.8766 6.92418ZM12.5064 5.67431C13.3496 5.78974 14.094 6.13868 14.7122 6.72107L13.3407 8.17676C13.0335 7.88736 12.6767 7.71628 12.2352 7.65583L12.5064 5.67431ZM14.713 6.72182C15.9849 7.92284 16.335 9.75635 15.5772 11.3283L13.7757 10.4598C14.1497 9.68397 13.9874 8.7874 13.3399 8.17601L14.713 6.72182ZM15.5762 11.3305C15.0749 12.3637 14.1569 13.1242 13.0526 13.4419L12.4996 11.5198C13.0701 11.3557 13.5285 10.9691 13.7767 10.4575L15.5762 11.3305ZM13.0531 13.4417C12.7211 13.5374 12.3386 13.5726 11.9999 13.5726C11.6612 13.5726 11.2787 13.5374 10.9467 13.4417L11.5007 11.52C11.5932 11.5466 11.7746 11.5726 11.9999 11.5726C12.2252 11.5726 12.4066 11.5466 12.4991 11.52L13.0531 13.4417ZM10.948 13.4421C8.99664 12.8824 7.73396 10.9546 8.08608 8.95061L10.0559 9.29673C9.888 10.2523 10.4913 11.2304 11.4994 11.5196L10.948 13.4421ZM8.08582 8.95208C8.38047 7.2604 9.73531 5.9207 11.4387 5.67882L11.7199 7.65896C10.892 7.77651 10.2051 8.4404 10.0562 9.29526L8.08582 8.95208ZM11.4379 5.67894C11.6187 5.65311 11.7888 5.63193 11.9736 5.63114C12.159 5.63035 12.3277 5.65021 12.5044 5.67404L12.2372 7.6561C12.0736 7.63405 12.0205 7.63096 11.9822 7.63112C11.9434 7.63129 11.8879 7.63496 11.7207 7.65884L11.4379 5.67894Z"
                            fill="#8696BB" mask="url(#path-2-inside-1_3018_70925)"/>
                        </svg>

                    </span>
                                    <span class="d-block ">{{__('Floor Number')}}</span>
                                </label>
                                <input type="text" class="form-control is_number" id="InputTitle" name="floor_number"
                                       value="{{$address['floor_number']}}">

                            </div>


                            <div class="mb-3 col-12">
                                <label for="InputTitle" class="form-label d-flex align-items-center">
                              <span class="d-block mx-1">
                                 <svg width="24" height="25" viewBox="0 0 24 25" fill="none"
                                      xmlns="http://www.w3.org/2000/svg">
                        <path d="M11.6239 20.7677C11.6233 20.7684 11.623 20.7688 11.6231 20.7687L11.6239 20.7677Z"
                              stroke="#8696BB"/>
                        <mask id="path-2-inside-1_3018_70925" fill="white">
                        <path
                            d="M11.3499 5.83916C10.0575 6.0724 8.99069 6.93272 8.47068 8.15247C7.9889 9.28809 8.11508 10.6493 8.79186 11.6855C9.33864 12.5152 10.1072 13.062 11.1205 13.3411C11.4722 13.4367 12.5276 13.4367 12.8793 13.3411C13.8926 13.062 14.6612 12.5152 15.2079 11.6855C15.7432 10.8711 15.9421 9.8234 15.7471 8.87896C15.4679 7.51774 14.5044 6.42418 13.1967 5.97681C12.6423 5.78945 11.9234 5.73592 11.3499 5.83916ZM12.3708 6.66507C13.0132 6.75301 13.5638 7.01302 14.0264 7.44891C14.9862 8.35512 15.2423 9.72016 14.6764 10.894C14.3017 11.6664 13.6135 12.2399 12.7761 12.4808C12.3517 12.6032 11.6481 12.6032 11.2237 12.4808C9.74395 12.0564 8.81098 10.6034 9.07099 9.12367C9.29276 7.8504 10.3137 6.8486 11.5793 6.66889C11.9272 6.61918 12.0305 6.61918 12.3708 6.66507Z"/>
                        </mask>
                        <path
                            d="M11.3499 5.83916L11.1723 4.85506L11.1727 4.85498L11.3499 5.83916ZM8.47068 8.15247L7.55009 7.76191L7.55079 7.76029L8.47068 8.15247ZM8.79186 11.6855L7.95686 12.2358L7.95462 12.2323L8.79186 11.6855ZM11.1205 13.3411L10.8582 14.3062L10.8549 14.3052L11.1205 13.3411ZM12.8793 13.3411L13.1449 14.3052L13.1416 14.3062L12.8793 13.3411ZM15.2079 11.6855L16.0436 12.2348L16.0429 12.2358L15.2079 11.6855ZM15.7471 8.87896L14.7677 9.08117L14.7675 9.07983L15.7471 8.87896ZM13.1967 5.97681L13.5168 5.02944L13.5204 5.03065L13.1967 5.97681ZM12.3708 6.66507L12.5044 5.67403L12.5064 5.67431L12.3708 6.66507ZM14.0264 7.44892L14.7122 6.72107L14.713 6.72182L14.0264 7.44892ZM14.6764 10.894L15.5772 11.3283L15.5762 11.3305L14.6764 10.894ZM12.7761 12.4808L12.4991 11.52L12.4996 11.5198L12.7761 12.4808ZM11.2237 12.4808L11.4994 11.5196L11.5007 11.52L11.2237 12.4808ZM9.07099 9.12367L10.0562 9.29526L10.0559 9.29673L9.07099 9.12367ZM11.5793 6.66889L11.7207 7.65884L11.7199 7.65896L11.5793 6.66889ZM11.5275 6.82326C10.5726 6.9956 9.78104 7.62875 9.39057 8.54464L7.55079 7.76029C8.20034 6.23669 9.54242 5.14921 11.1723 4.85506L11.5275 6.82326ZM9.39126 8.54302C9.04111 9.36837 9.13252 10.3784 9.6291 11.1387L7.95462 12.2323C7.09763 10.9202 6.93669 9.2078 7.55009 7.76192L9.39126 8.54302ZM9.62686 11.1353C10.0323 11.7505 10.5921 12.1583 11.386 12.3771L10.8549 14.3052C9.6223 13.9657 8.645 13.28 7.95686 12.2358L9.62686 11.1353ZM11.3827 12.3761C11.3771 12.3746 11.4328 12.3871 11.5716 12.3979C11.6951 12.4075 11.8447 12.4128 11.9999 12.4128C12.1551 12.4128 12.3047 12.4075 12.4282 12.3979C12.567 12.3871 12.6227 12.3746 12.6171 12.3761L13.1416 14.3062C12.8234 14.3926 12.3507 14.4128 11.9999 14.4128C11.6491 14.4128 11.1764 14.3926 10.8582 14.3062L11.3827 12.3761ZM12.6138 12.3771C13.4077 12.1583 13.9675 11.7505 14.3729 11.1353L16.0429 12.2358C15.3548 13.28 14.3775 13.9657 13.1449 14.3052L12.6138 12.3771ZM14.3723 11.1363C14.7622 10.5431 14.9091 9.76562 14.7677 9.08117L16.7264 8.67674C16.9751 9.88117 16.7243 11.1991 16.0436 12.2348L14.3723 11.1363ZM14.7675 9.07983C14.5594 8.06513 13.8449 7.25547 12.873 6.92298L13.5204 5.03065C15.1639 5.59289 16.3765 6.97035 16.7267 8.67808L14.7675 9.07983ZM12.8766 6.92418C12.4815 6.79068 11.9337 6.75014 11.527 6.82334L11.1727 4.85498C11.9131 4.7217 12.803 4.78823 13.5168 5.02944L12.8766 6.92418ZM12.5064 5.67431C13.3496 5.78974 14.094 6.13868 14.7122 6.72107L13.3407 8.17676C13.0335 7.88736 12.6767 7.71628 12.2352 7.65583L12.5064 5.67431ZM14.713 6.72182C15.9849 7.92284 16.335 9.75635 15.5772 11.3283L13.7757 10.4598C14.1497 9.68397 13.9874 8.7874 13.3399 8.17601L14.713 6.72182ZM15.5762 11.3305C15.0749 12.3637 14.1569 13.1242 13.0526 13.4419L12.4996 11.5198C13.0701 11.3557 13.5285 10.9691 13.7767 10.4575L15.5762 11.3305ZM13.0531 13.4417C12.7211 13.5374 12.3386 13.5726 11.9999 13.5726C11.6612 13.5726 11.2787 13.5374 10.9467 13.4417L11.5007 11.52C11.5932 11.5466 11.7746 11.5726 11.9999 11.5726C12.2252 11.5726 12.4066 11.5466 12.4991 11.52L13.0531 13.4417ZM10.948 13.4421C8.99664 12.8824 7.73396 10.9546 8.08608 8.95061L10.0559 9.29673C9.888 10.2523 10.4913 11.2304 11.4994 11.5196L10.948 13.4421ZM8.08582 8.95208C8.38047 7.2604 9.73531 5.9207 11.4387 5.67882L11.7199 7.65896C10.892 7.77651 10.2051 8.4404 10.0562 9.29526L8.08582 8.95208ZM11.4379 5.67894C11.6187 5.65311 11.7888 5.63193 11.9736 5.63114C12.159 5.63035 12.3277 5.65021 12.5044 5.67404L12.2372 7.6561C12.0736 7.63405 12.0205 7.63096 11.9822 7.63112C11.9434 7.63129 11.8879 7.63496 11.7207 7.65884L11.4379 5.67894Z"
                            fill="#8696BB" mask="url(#path-2-inside-1_3018_70925)"/>
                        </svg>

                    </span>
                                    <span class="d-block ">{{__('Building')}}</span>
                                </label>
                                <input type="text" class="form-control" id="InputTitle" name="building"
                                       value="{{$address['building']}}">

                            </div>


                            <div class="toast-body">
                                @if($errors)
                                    <p class="text-danger"> {{ implode('', $errors->all(':message')) }}</p>
                                @else
                                    can't log in right now , something went wrong
                                @endif
                            </div>
                            <div class="col-12 position-relative">
                                <button onclick="showSpinner(this)" type="submit"
                                        class="btn btn-primary h-fit w-100">{{__('Submit')}}</button>
                                <div class="lds-ellipsis d-none position-absolute start-50 top-50 translate-middle">
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                </div>
                            </div>


                        </form>
                    </div>
                </div>
            </div>
            <div class="permission-element  " style="z-index: 9 ">
                <div  class="permission-container start-0 w-100 h-100 position-absolute top-0 start-0 bg-white d-flex align-items-center justify-content-center">
                    <div class="container">
                        <div class="row justify-content-center">
                            <div class="col-12 col-md-6">
                                <div class=" py-1 px-2 border-0" style="  box-shadow: 0px 11px 33px 5px #e7f6fac4;">
                                    <div class="card-body text-center">
                                        <h5 class="card-title pb-2"> {{__('Allow the use of geolocation information To proceed to the next step')}}</h5>


                                        <a  type="button" class="get-location-user-button btn-primary btn w-100 py-3 my-2">
                                            {{__('allow')}}
                                        </a>
                                        <a  type="button" class="text-primary get-location-should-permission" onclick="deleteElement()">
                                            {{__('Disallow and cancel the operation')}}
                                        </a>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </section>

    </main>

    <!-- Modal -->

    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog container" style="max-width: initial;">
            <div class="row justify-content-center">
                <div class="col-12 col-md-7">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel"></h5>

                        </div>

                        <div class="modal-body gap-3  d-flex align-items-center justify-content-center pt-5">

                            <span>
                        <svg width="49" height="49" viewBox="0 0 49 49" fill="none" xmlns="http://www.w3.org/2000/svg">
<path
    d="M23.634 3.85864C24.0189 3.19198 24.9811 3.19198 25.366 3.85864L42.6865 33.8586C43.0714 34.5253 42.5903 35.3586 41.8205 35.3586H7.17949C6.40969 35.3586 5.92857 34.5253 6.31347 33.8586L23.634 3.85864Z"
    stroke="#FFCD29" stroke-width="2"/>
<path
    d="M25.4827 15.3438L25.2475 26.0323H23.6229L23.3877 15.3438H25.4827ZM24.5207 30.3718C24.1502 30.3718 23.8366 30.2435 23.5801 29.987C23.3236 29.7305 23.1953 29.4169 23.1953 29.0464C23.1953 28.6759 23.3236 28.3623 23.5801 28.1058C23.8366 27.8493 24.1502 27.721 24.5207 27.721C24.877 27.721 25.1762 27.8493 25.4185 28.1058C25.675 28.3623 25.8033 28.6759 25.8033 29.0464C25.8033 29.4169 25.675 29.7305 25.4185 29.987C25.1762 30.2435 24.877 30.3718 24.5207 30.3718Z"
    fill="#FFCD29"/>
</svg>

                    </span>
                            <h1 class="text-warning">
                                {{__('Disallow the use of location information. You won\'t be able to continue to the next step.')}}</h1>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary"
                                    data-bs-dismiss="modal">{{__('Close')}}</button>
                            <a href=/{{\App\Helpers\AppHelper::getSlug()}} type="button"
                               class="btn btn-primary">{{__('Home')}}</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

@endsection

@section('script')
    <script>
        function showSpinner(element) {
            document.querySelector('.lds-ellipsis').classList.replace('d-none', 'd-block');
            element.classList.add("disabled");
            element.classList.add("text-transparent")
        }
    </script>

    <script
        src="https://maps.googleapis.com/maps/api/js?key={{config('app.map_api_key')}}&callback=initMap&v=weekly&libraries=places"
        defer
    ></script>
    <script>


        function createElement() {
            const element = `
                 <div  class="permission-container w-100 h-100 position-fixed top-0 start-0 bg-white d-flex align-items-center justify-content-center">
            <div class="container">
                                <div class="row justify-content-center">
                                    <div class="col-12 col-md-6">
                  <div class="card py-5 px-2 border-0" style="  box-shadow: 0px 11px 33px 5px #e7f6fac4;">
              <div class="card-body text-center">
                <h1 class="card-title pb-2"> {{__('Allow the use of geolocation information To proceed to the next step')}}</h5>


                <a  type="button" class="get-location-user-button btn-primary btn w-100 py-3 my-2">
                {{__('allow')}}
            </a>
<a  type="button" class="  text-primary get-location-should-permission "    >
{{__('Disallow and cancel the operation')}}
            </a>
            </div>
          </div>
             </div>
                              </div>
                          </div>
                   </div>`
            const divContainer = document.querySelector(".permission-element")
            divContainer.innerHTML = element
        }

        function deleteElement() {
            const permissionContainer = document.querySelector(".permission-container");
            navigator.permissions && navigator.permissions.query({name: 'geolocation'})
                .then(function (PermissionStatus) {
                    if (PermissionStatus.state === 'granted') {
                        permissionContainer ?  permissionContainer.remove() : false
                    }
                    else {
                        permissionContainer ?  permissionContainer.remove() : false
                    }
                })
        }

            var InputProvince = document.querySelector("#InputProvince");
            var lat, lng;
            getLocationShouldPermission = document.querySelector(".get-location-should-permission")

            const locationButton = document.querySelector(".get-location-user");
            var latInput = document.getElementsByName("lat")[0],
                lngInput = document.getElementsByName("lng")[0],
                latLng = {lat: +{{$address->location->getLat()}}, lng: +{{$address->location->getLng()}}};

            function initMap() {
                let map, marker;
                function createMap() {
                    const  latLng = {lat: +lat, lng: +lng};
                    map = new google.maps.Map(document.getElementById("map"), {
                        zoom: 10,
                        center: latLng,
                    });
                    marker = new google.maps.Marker({
                        position: latLng,
                        map: map,
                        icon: {
                            path: "M31.8727 11.7273C38.686 4.91399 47.0391 1.07494 57.1641 0.125717C58.8094 -0.0430374 64.2305 0.210091 66.2344 0.526497C74.6086 1.8765 82.1391 5.73665 88.1508 11.7273C91.357 14.9335 93.6141 18.0765 95.6813 22.1898C98.2969 27.3788 99.5203 32.2937 99.7946 38.4952C100.132 46.2788 97.4321 55.096 92.1164 63.4913C86.8569 71.8408 59.9765 107.92 59.9765 107.92C59.9765 107.92 30.9668 69.2687 26.0508 60.3906C23.6461 56.0452 22.043 51.7843 20.9883 47.0593C18.2883 34.6984 22.4438 21.1562 31.8727 11.7273ZM46.3763 33.973C48.3834 29.2653 52.5008 25.9448 57.489 25.0445C59.7027 24.6461 62.4771 24.8527 64.617 25.5758C69.6642 27.3025 73.3832 31.5232 74.4605 36.777C75.2132 40.4222 74.4458 44.4658 72.3797 47.6093C70.2693 50.8117 67.303 52.9221 63.3921 53.9994C62.0344 54.3684 57.9612 54.3684 56.6035 53.9994C52.6927 52.9221 49.7264 50.8117 47.616 47.6093C45.0039 43.6099 44.5168 38.3561 46.3763 33.973Z",
                            fillColor: "#FF6500",
                            fillOpacity: 1,
                            strokeWeight: 0,
                            rotation: 1,
                            scale: .3,
                            anchor: new google.maps.Point(55, 100),
                        },
                    });
                    map.controls[google.maps.ControlPosition.TOP_CENTER].push(locationButton);
                    map.setOptions({draggableCursor: 'default'});
                    map.addListener("click", function (mapsMouseEvent) {

                        latInput.value = mapsMouseEvent.latLng.toJSON().lat;
                        lngInput.value = mapsMouseEvent.latLng.toJSON().lng;
                        lat = latInput.value;
                        lng = lngInput.value;
                        var latLng = new google.maps.LatLng(+lat, +lng);
                        const pos = {
                            lat: +lat,
                            lng: +lng,
                        };

                        // map.setCenter(pos)
                        function changeMarkerPosition(marker) {
                            marker.setPosition(latLng);
                        }

                        changeMarkerPosition(marker);
                        getInputProvinceValue(latLng)
                    });
                    // InputProvince
                    const searchBox = new google.maps.places.SearchBox(InputProvince);
                    map.addListener("bounds_changed", () => {
                        searchBox.setBounds(map.getBounds());
                    });
                    let newMarkers = [];
                    searchBox.addListener("places_changed", (e) => {

                        const places = searchBox.getPlaces();
                        if (places.length == 0) {
                            return;
                        }
                        newMarkers.forEach((marker) => {
                            marker.setMap(null);
                        });
                        newMarkers = [];
                        const bounds = new google.maps.LatLngBounds();
                        places.forEach((place) => {
                            if (!place.geometry || !place.geometry.location) {
                                console.log("Returned place contains no geometry");
                                return;
                            }

                            const icon = {
                                url: place.icon,
                                size: new google.maps.Size(71, 71),
                                origin: new google.maps.Point(0, 0),
                                anchor: new google.maps.Point(17, 34),
                                scaledSize: new google.maps.Size(25, 25),
                            };
                            newMap = new google.maps.Marker({
                                map,
                                icon,
                                title: place.name,
                                position: place.geometry.location,
                            })
                            console.log(+newMap.position.lat)
                            newMarkers.push(newMap);
                            if (place.geometry.viewport) {
                                bounds.union(place.geometry.viewport);
                            } else {
                                bounds.extend(place.geometry.location);
                            }

                            console.log(+newMap.position.lng())

                            latInput.value = +newMap.position.lat();
                            lngInput.value = +newMap.position.lng();
                        });

                        map.fitBounds(bounds);
                    });
                }




                function getCurrentLocation() {
                    const latInput = document.getElementsByName("lat")[0],
                        lngInput = document.getElementsByName("lng")[0];
                    navigator.geolocation.getCurrentPosition(
                        (position) => {
                            const pos = {
                                lat: +position.coords.latitude,
                                lng: +position.coords.longitude,
                            };
                            const mylatLng = {lat: pos.lat, lng: pos.lng};

                            const latLng = new google.maps.LatLng(pos.lat, pos.lng);

                            function changeMarkerPosition(marker) {
                                marker.setPosition(latLng);
                            }

                            latInput.value = mylatLng.lat
                            lngInput.value = mylatLng.lng
                            changeMarkerPosition(marker)
                            map.setCenter(pos);
                            map.setZoom(15)
                            getInputProvinceValue(pos)

                        },
                    );
                    deleteElement()
                }

                function haveAccess(navigator) {
                    createMap()
                    navigator.permissions && navigator.permissions.query({name: 'geolocation'}).then((PermissionStatus) => {
                        locationButton.addEventListener("click", () => {
                            haveAccess(navigator)
                        });
                        if (PermissionStatus.state == 'granted') {
                            //allowed
                            createMap();
                            getCurrentLocation();

                            deleteElement()
                        } else if (PermissionStatus.state == 'prompt') {

                            createElement();
                            const getLocationUserButton = document.querySelector(".get-location-user-button");
                            getLocationUserButton.onclick = () => {
                                deleteElement()
                                navigator.geolocation.getCurrentPosition(
                                    function () {
                                        deleteElement()
                                    },
                                    function () {
                                        deleteElement()
                                    }
                                );
                                navigator.geolocation.getCurrentPosition((position) => {
                                });
                                navigator.permissions.query({name: 'geolocation'}).then((permissionStatus) => {
                                    console.log(`geolocation permission status is ${permissionStatus.state}`);
                                    permissionStatus.onchange = () => {
                                        console.log(`geolocation permission status has changed to ${permissionStatus.state}`);
                                        if (permissionStatus.state == "granted") {
                                            window.location.href = "/{{\App\Helpers\AppHelper::getSlug().'/dashboard/addresses'}}"
                                        } else {
                                            window.location.href = "/{{\App\Helpers\AppHelper::getSlug()}}"
                                        }

                                    };
                                });
                            }
                        } else {
                        }
                    })
                }

                if (navigator.geolocation) {
                    createMap()
                    haveAccess(navigator)
                }
                createMap()

            }

            window.initMap = initMap;

        const getLocationUserButton = document.querySelector(".get-location-user-button")
        getLocationShouldPermission.addEventListener("click", () => {
            deleteElement()
        })
        getLocationUserButton.addEventListener("click",()=>{
            deleteElement()
        })
    </script>
@endsection
